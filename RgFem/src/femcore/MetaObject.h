/*****************************************************************
 * \file   meta_object.h
 * \brief
 *
 * \author 11914
 * \date   December 2024
 *********************************************************************/

#pragma once
#ifndef META_OBJECT_H
#define META_OBJECT_H

#include "femcore/fem_export.h"
#include <string>

class MetaClass;
class FEModel;

//有很多类需要构造函数里面进行成员初始化，所以不提供空实现的构造函数
//struct DummyParam
//{
//};

class FEM_EXPORT MetaObject
{
public:
    using BaseClass = void;  // 这个需要单独定义，否则其子类MetaClass构造函数找不到BaseClass
    virtual ~MetaObject() = default;

    virtual const MetaClass* meta() const = 0;  // called by instance
    static const MetaClass* static_meta();       // called by class
    static MetaObject* meta_cast(MetaObject* pOther);
    static std::string class_name();
    bool isKindOf(const MetaClass* pMeta) const;

public:
    MetaObject() = default;
};

#endif